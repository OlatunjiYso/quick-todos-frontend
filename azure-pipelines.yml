trigger:
- master  # Trigger the pipeline on changes to the main branch (adjust as necessary)

pool:
  vmImage: 'ubuntu-latest'  # Use the latest Ubuntu-based image

steps:
- task: NodeTool@0
  inputs:
    versionSpec: '20.x'  # Specify the Node.js version (adjust as necessary)
  displayName: 'Install Node.js'

- script: |
    npm install
    npm run build
  displayName: 'Install dependencies and build'

- task: AzureStaticWebApp@0
  inputs:
    app_location: '/'  # Location of your application source code
    output_location: 'build'  # Location of the output directory generated by the build
    azure_static_web_apps_api_token: $(deployment_token)  # Reference the deployment token stored in a pipeline variable
  displayName: 'Deploy to Azure Static Web App'
